// 简化的消息提示组件
(function() {
    'use strict';
    
    var cocoMessage = {
        success: function(message, callback) {
            this.show(message, 'success', callback);
        },
        
        error: function(message, callback) {
            this.show(message, 'error', callback);
        },
        
        info: function(message, callback) {
            this.show(message, 'info', callback);
        },
        
        show: function(message, type, callback) {
            var messageEl = document.createElement('div');
            messageEl.className = 'coco-message coco-message-' + type;
            messageEl.textContent = message;
            
            // 添加样式
            messageEl.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 12px 20px;
                border-radius: 6px;
                color: white;
                font-size: 14px;
                z-index: 9999;
                opacity: 0;
                transform: translateX(100%);
                transition: all 0.3s ease;
                max-width: 300px;
                word-wrap: break-word;
            `;
            
            // 根据类型设置背景色
            switch(type) {
                case 'success':
                    messageEl.style.backgroundColor = '#52c41a';
                    break;
                case 'error':
                    messageEl.style.backgroundColor = '#ff4d4f';
                    break;
                case 'info':
                default:
                    messageEl.style.backgroundColor = '#1890ff';
                    break;
            }
            
            document.body.appendChild(messageEl);
            
            // 显示动画
            setTimeout(function() {
                messageEl.style.opacity = '1';
                messageEl.style.transform = 'translateX(0)';
            }, 10);
            
            // 自动隐藏
            setTimeout(function() {
                messageEl.style.opacity = '0';
                messageEl.style.transform = 'translateX(100%)';
                
                setTimeout(function() {
                    if (messageEl.parentNode) {
                        messageEl.parentNode.removeChild(messageEl);
                    }
                    if (callback && typeof callback === 'function') {
                        callback();
                    }
                }, 300);
            }, 3000);
        }
    };
    
    // 全局暴露
    window.cocoMessage = cocoMessage;
})();